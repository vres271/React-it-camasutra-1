"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[987],{1287:function(s,t,e){e.r(t),e.d(t,{default:function(){return L}});var r=e(5671),n=e(3144),i=e(136),o=e(2882),a=e(8683),u=e(2791),l=e(8687),c=e(6871),d=e(6070),p="MyPosts_posts__q+zJk",h="MyPosts_posts_block__4gtRl",f="Post_item__2Qmuy",x="Post_message__7tGg4",j=e(184),m=function(s){return(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("img",{src:"https://cdn0.iconfinder.com/data/icons/avatars-6/500/Avatar_boy_man_people_account_client_male_person_user_work_sport_beard_team_glasses-512.png",alt:""}),(0,j.jsxs)("a",{href:"#1",children:[s.name," (likes: ",s.likescount,")"]}),(0,j.jsx)("div",{className:x,children:s.message})]})},_=e(6139),g=e(704),v=e(5304),b=e(9086),P=u.memo((function(s){return(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("h2",{children:"My posts"}),(0,j.jsxs)("div",{className:"",children:["New Post",(0,j.jsx)(y,{onSubmit:function(t){s.onPostAdd(t.newPostText)}})]}),(0,j.jsx)("div",{className:h,children:s.profilePage.posts.sort((function(s,t){return 1*s.id<1*t.id?1:-1})).map((function(s,t){return(0,j.jsx)(m,{name:s.name,message:s.message,likescount:s.likescount},t)}))})]})})),k=(0,v.D)(10),y=(0,g.Z)({form:"dialogAddPostForm"})((function(s){return(0,j.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,j.jsx)(_.Z,{name:"newPostText",validate:[v.C,k],component:b.gx,placeholder:"Message text"}),(0,j.jsx)("button",{children:"Add Post"})]})})),S=P,U=(0,l.$j)((function(s){return{profilePage:s.profilePage}}),(function(s){return{onPostAdd:function(t){s((0,d.Wl)(t))}}}))(S),Z=e(2026),N="ProfileInfo_description_block__5kber",w="ProfileInfo_left_block__IXLF+",C="ProfileInfo_right_block__-819Y",I=e(4353),A=e.p+"static/media/bg.54187b5a92b1571c7270.jpg",T=(u.Component,e(885)),M=function(s){var t=(0,u.useState)(!1),e=(0,T.Z)(t,2),r=e[0],n=e[1],i=(0,u.useState)(s.status),o=(0,T.Z)(i,2),a=o[0],l=o[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,j.jsxs)(j.Fragment,{children:[!r&&(0,j.jsx)("div",{children:(0,j.jsx)("span",{onDoubleClick:function(){n(!0)},children:s.status||"Type your status here..."})}),r&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{value:a,onChange:function(s){l(s.currentTarget.value)},onBlur:function(){n(!1),s.updateUserStatus(a)},type:"text",name:"",id:""})})]})},q=function(s){return s.profile?(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:A,width:"980px",alt:""})}),(0,j.jsxs)("div",{className:N,children:[(0,j.jsx)("div",{className:w,children:(0,j.jsx)("img",{src:s.profile.photos.large||I,alt:""})}),(0,j.jsxs)("div",{className:C,children:[(0,j.jsx)("h1",{children:s.profile.fullName}),(0,j.jsx)("small",{children:s.profile.status}),(0,j.jsx)(M,{status:s.status,updateUserStatus:s.updateUserStatus}),(0,j.jsx)("br",{}),(0,j.jsx)("br",{}),(0,j.jsx)("div",{children:(0,j.jsx)("h3",{children:"Location"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:"Contacts"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"GitHub:"})," ",(0,j.jsx)("a",{href:"{props.profile.contacts.github}",children:s.profile.contacts.github})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"YouTube:"})," ",(0,j.jsx)("a",{href:"{props.profile.contacts.youtube}",children:s.profile.contacts.youtube})]})]})]})]})]}):(0,j.jsx)(Z.Z,{})},z=function(s){return(0,j.jsxs)("div",{children:[(0,j.jsx)(q,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,j.jsx)(U,{})]})},D=e(7781),F=function(s){(0,i.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.params.userId;s||(s=this.props.authorizedUserId)||(console.log("redirect to login"),window.location.href="/login"),s&&(this.props.getUserProfile(s),this.props.getUserStatus(s))}},{key:"render",value:function(){return(0,j.jsx)(z,(0,a.Z)((0,a.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),e}(u.Component),L=(0,D.qC)((0,l.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:d.et,getUserStatus:d.Tq,updateUserStatus:d.OL}),(function(s){return function(t){var e=(0,c.UO)();return(0,j.jsx)(s,(0,a.Z)((0,a.Z)({},t),{},{params:e}))}}))(F)}}]);
//# sourceMappingURL=987.f6ef869c.chunk.js.map